@use 'sass:list';
@use 'sass:math';
@use 'sass:meta';
@use './responsive' as *;

//===========================================
//============= variables ===================
//===========================================

$fontSans: 'Inter', sans-serif;
$fontMono: ui-monospace, Menlo, Monaco, 'Cascadia Mono', 'Segoe UI Mono',
	'Roboto Mono', 'Oxygen Mono', 'Ubuntu Monospace', 'Source Code Pro',
	'Fira Mono', 'Droid Sans Mono', 'Courier New', monospace;
$fontSystem: system-ui, sans-serif;

$breakpoint: em(700);

$dark: hsl(0, 0%, 0%);

$fs12: rem(12);
$fs14: rem(14);
$fs16: rem(16);
$fs18: rem(18);
$fs21: rem(21);
$fs23: rem(23);
$fs26: rem(26);
$fs28: rem(28);
$fs34: rem(34);

//===========================================
//============= mixins ======================
//===========================================
@mixin headingH1($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args, 500);

	color: $color;
	font-size: $fs-34;
	font-weight: $fw;
	line-height: 1.2;
}

@mixin headingH2($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args, 500);

	color: $color;
	font-size: $fs-28;
	font-weight: $fw;
	line-height: 1.4;
	@include respond-above(40em) {
		line-height: 1.2;
	}
}

@mixin headingH3($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args, 500);

	color: $color;
	font-size: $fs-23;
	font-weight: $fw;
	line-height: 1.3;
}

@mixin text1($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args);

	color: $color;
	font-size: $fs-21;
	font-weight: $fw;
	line-height: 1.5;
}

@mixin text2($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args);

	color: $color;
	font-size: $fs-18;
	font-weight: $fw;
	line-height: 1.5;

	@include respond-below($breakpoint) {
		font-size: $fs-16;
		line-height: 1.4;
	}
}

@mixin text3($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args);
	color: $color;
	font-size: $fs-16;
	font-weight: $fw;
	line-height: 1.5;

	@include respond-below($breakpoint) {
		font-size: $fs-14;
	}
}

@mixin number($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args);

	color: $color;
	font-size: $fs-23;
	font-weight: $fw;
	line-height: 1.4;
}

@mixin caption($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args);

	color: $color;
	font-size: $fs-14;
	font-weight: $fw;
	line-height: 1.5;
}

@mixin smallText($args...) {
	$color: argsColorHandler($args);
	$fw: argsFwHandler($args);

	color: $color;
	font-size: $fs-12;
	font-weight: $fw;
	line-height: 1.35;
}

//===========================================
//============= help func ===================
//===========================================

@function argsColorHandler($args) {
	$color: $c-dark;

	@if (list.length($args) > 1) {
		$color: list.nth($args, 1);
	}

	@if (list.length($args) == 1) {
		$first: list.nth($args, 1);

		@if (meta.type-of($first) != 'number') {
			$color: $first;
		}
	}

	@if (list.length($args) > 2) {
		@error 'максимум 2 аргумента';
	}

	@return $color;
}

@function argsFwHandler($args, $initValue: 400) {
	$fw: $initValue;

	@if (list.length($args) > 1) {
		$fw: list.nth($args, 2);
	}

	@if (list.length($args) == 1) {
		$first: list.nth($args, 1);

		@if (meta.type-of($first) == 'number') {
			$fw: $first;
		}
	}

	@return $fw;

	@if (list.length($args) > 2) {
		@error 'максимум 2 аргумента';
	}
}
