@use 'sass:math';

.Modal-wrapper {
	padding: 20px 0;
	@include flex-c;
	position: relative;

	visibility: visible;

	/* On mobile browsers, vh units are fixed based on the maximum height of the screen.
   * However, when you scroll, the toolbar and address bar shrink, making the viewport resize.
   * The visual viewport also shrinks when the keyboard is displayed. We use the VisualViewport
   * API in JS to set this CSS variable to ensure the height is correct. */
	min-height: var(--visual-viewport-height);
	pointer-events: none;
}

.Modal {
	@include overlay;


	/* Start offset by the animation distance */
	transform: translateY($dialog-animation-distance);
	visibility: visible;
	/* Appear above underlay */
	z-index: 2;

	outline: none;
	/* Firefox shows outline */
	border-radius: 20px;


	@include transition(transform 0ms linear $dialog-animation-duration,
		opacity $dialog-animation-duration $dialog-exit-animation-ease);
	pointer-events: auto;

	&.is-open {
		@include overlay--open;

		transform: translateY(0);

		@include transition(transform $dialog-animation-duration $dialog-entry-animation-ease,
			opacity $dialog-animation-duration $dialog-entry-animation-ease);
	}
}


//TODO: Крестик закрытия должен быть справо и чуть ниже верхнего края модального окна. За пример брал вк (например https: //vk.com/feed?w=wall-36039_9239209). Проблема в том что я не знаю как Js высчитывать положение. Текущая реалиизация не соответствуеют дизайнерской идеи. Положение крестика задается в CSS, а значит при скроле уходит вместе с модальным окном. Может перенести его в верстке выше, но тогда есть проблемы вертикального положения. В вк крестик находиться на одной высоте всегда. У меня при если появляетс скролл модалка упирается в паддинг сверху, и относительно его я спозиционировал крестик. Но оказалось что когда модалка маленькая то крестик парит в воздухе на верху. ЧТО СДЕЛАТЬ? Понять как считать положение JS через offsetop модального окна. Возможно поможет более глубокаое понимание рефов... Можно ознакомиться с issue по этой теме [@react-aria: forwardRef support #834](https: //github.com/adobe/react-spectrum/issues/834). Может поможет хук для синхронизации [@react-aria/utils/src/useSyncRef.ts](https: //github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/utils/src/useSyncRef.ts)


.Modal-closeButton {
	position: fixed;
	top: 30px;
	right: 50%;
	transform: translateX(math.div($dialog-width-small, 2) + 35px);
	border: 0;
	background: none;
	padding: 0;
	@include flex-c;
	color: $c-white;
	z-index: 3;
}